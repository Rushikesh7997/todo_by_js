<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="style.css" /> 
</head>
<body>
    <h2 class="total"></h2>
    <button onclick="window.location.href='checkout.html'">Checkout</button>
    <div class="main-box"></div>
</body>
</html>

<script>
    var cartArr = JSON.parse(localStorage.getItem("CartItems"))

    console.log(cartArr)

    cartArr.map(function(data){
        var div = document.createElement("div");

    // Append image
    var image = document.createElement("img");
    image.setAttribute("src", data.img_url);

    // append text
    var name = document.createElement("p");
    name.textContent = data.product_name;

    // append price
    var price = document.createElement("div");
    price.setAttribute("id", "price-flex");

    var p1 = document.createElement("p");
    p1.textContent = data.price;

    var p2 = document.createElement("p");
    p2.textContent = data.strikeoff_price;
    // p2.style.textDecoration = "line-through"

    price.append(p1, p2);

    // append
    div.append(image, name, price);

    document.querySelector(".main-box").append(div);
    })


    var total = cartArr.reduce(function(acc, cv){
        return acc+Number(cv.price)
    },0)

    document.querySelector(".total").textContent = `Total Amount is ${total}`


    console.log(total)
</script>